<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KelionAI â€” Portal Dezvoltatori</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap">
    <link rel="stylesheet" href="/styles/design-system.css">
    <link rel="stylesheet" href="/developer/developer.css">
    <link rel="stylesheet" href="/styles/mobile.css">
</head>
<body>

<!-- AUTH OVERLAY -->
<div id="dev-auth-overlay" class="hidden">
    <div class="auth-box">
        <h2>ğŸ¤– KelionAI Dev</h2>
        <p>AutentificÄƒ-te pentru a gestiona cheile API È™i a accesa portalul dezvoltatorilor.</p>
        <div id="auth-name-row" style="display:none">
            <input class="dev-input" id="auth-name" type="text" placeholder="Numele tÄƒu" autocomplete="name">
        </div>
        <input class="dev-input" id="auth-email" type="email" placeholder="Email" autocomplete="email">
        <input class="dev-input" id="auth-password" type="password" placeholder="ParolÄƒ" autocomplete="current-password">
        <div id="auth-err"></div>
        <button class="btn btn-primary" id="auth-submit-btn" style="width:100%;justify-content:center;margin-top:4px">AutentificÄƒ-te</button>
        <div id="auth-switch">Nu ai cont? <a id="auth-toggle-link">CreeazÄƒ unul</a></div>
    </div>
</div>

<!-- NAV -->
<nav class="dev-nav">
    <a href="/" class="logo">ğŸ¤– Kelion<span>AI</span> <span>/ Dezvoltatori</span></a>
    <div class="nav-tabs">
        <button class="nav-tab active" data-panel="overview">Prezentare</button>
        <button class="nav-tab" data-panel="keys">Chei API</button>
        <button class="nav-tab" data-panel="docs">DocumentaÈ›ie</button>
        <button class="nav-tab" data-panel="sandbox">Sandbox</button>
        <button class="nav-tab" data-panel="webhooks">Webhooks</button>
    </div>
    <div class="nav-auth">
        <span id="nav-user"></span>
        <button id="nav-logout-btn" style="display:none">Deconectare</button>
    </div>
</nav>

<div class="dev-container">

    <!-- â•â•â• PREZENTARE â•â•â• -->
    <div id="panel-overview" class="panel active">
        <div class="dev-hero">
            <h1>API Dezvoltatori</h1>
            <p>ConstruieÈ™te aplicaÈ›ii puternice cu AI folosind API-ul KelionAI. GenereazÄƒ chei API, exploreazÄƒ documentaÈ›ia È™i testeazÄƒ endpoint-urile Ã®n sandbox.</p>
            <div class="hero-btns">
                <button class="btn btn-primary" data-goto="keys">GenereazÄƒ Cheie API</button>
                <button class="btn btn-secondary" data-goto="docs">CiteÈ™te DocumentaÈ›ia</button>
            </div>
        </div>

        <div id="overview-stats" style="display:none">
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-value" id="stat-active-keys">â€”</div><div class="stat-label">Chei Active</div></div>
                <div class="stat-card"><div class="stat-value" id="stat-total-req">â€”</div><div class="stat-label">Total Cereri</div></div>
                <div class="stat-card"><div class="stat-value" id="stat-total-keys">â€”</div><div class="stat-label">Total Chei</div></div>
            </div>
        </div>

        <div class="card">
            <h2>ğŸš€ Start Rapid</h2>
            <p style="color:var(--muted);font-size:0.9rem;margin-bottom:14px">Trimite prima ta cerere API Ã®n cÃ¢teva secunde:</p>
            <pre>curl -X POST https://kelionai.app/api/v1/chat \
  -H "Content-Type: application/json" \
  -H "X-API-Key: YOUR_API_KEY" \
  -d '{"message":"Salut, KelionAI!"}'</pre>
        </div>

        <div class="card">
            <h2>ğŸ“‹ URL de BazÄƒ & Autentificare</h2>
            <p style="color:var(--muted);font-size:0.85rem;margin-bottom:12px">Toate cererile API trebuie sÄƒ includÄƒ cheia API Ã®n header-ul <code>X-API-Key</code>.</p>
            <pre>URL BazÄƒ:  https://kelionai.app/api/v1
Auth:      X-API-Key: kel_xxxxxxxxxxxx</pre>
        </div>
    </div>

    <!-- â•â•â• CHEI API â•â•â• -->
    <div id="panel-keys" class="panel">
        <div class="card">
            <h2>ğŸ”‘ Chei API</h2>
            <div id="key-alert" class="alert"></div>
            <div id="new-key-reveal" style="display:none" class="new-key-reveal">
                <p>âš ï¸ CopiazÄƒ cheia API acum â€” nu va mai fi afiÈ™atÄƒ.</p>
                <div class="key-copy-row">
                    <span id="new-key-text"></span>
                    <button id="copy-key-btn">CopiazÄƒ</button>
                </div>
            </div>
            <div class="form-row" style="margin-top:4px">
                <div class="form-group">
                    <label>Nume cheie</label>
                    <input class="dev-input" id="new-key-name" type="text" placeholder="AplicaÈ›ia Mea" maxlength="100">
                </div>
                <button class="btn btn-primary" id="create-key-btn">+ GenereazÄƒ Cheie</button>
            </div>
            <div id="key-list" class="key-list">
                <div class="empty-state"><div class="icon">ğŸ”‘</div><p>Nicio cheie API Ã®ncÄƒ. GenereazÄƒ una mai sus.</p></div>
            </div>
        </div>
    </div>

    <!-- â•â•â• DOCUMENTAÈšIE â•â•â• -->
    <div id="panel-docs" class="panel">
        <div class="card">
            <h2>ğŸ“š ReferinÈ›Äƒ API</h2>
            <p style="color:var(--muted);font-size:0.85rem;margin-bottom:20px">Click pe un endpoint pentru a extinde detaliile È™i exemplele.</p>
            <div class="endpoint-list">

                <div class="endpoint" id="ep-status">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/v1/status</span>
                        <span class="endpoint-desc">Status API È™i endpoint-uri disponibile</span>
                        <span class="auth-badge public">Public</span>
                        <span class="endpoint-chevron">â–¼</span>
                    </div>
                    <div class="endpoint-body">
                        <p style="color:var(--muted);font-size:0.85rem">ReturneazÄƒ statusul curent al API-ului È™i lista tuturor endpoint-urilor disponibile. Nu necesitÄƒ autentificare.</p>
                        <pre>{
  "status": "online",
  "version": "1.0",
  "timestamp": "2026-02-28T12:00:00Z",
  "endpoints": [...]
}</pre>
                    </div>
                </div>

                <div class="endpoint" id="ep-models">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/v1/models</span>
                        <span class="endpoint-desc">ListeazÄƒ modelele AI disponibile</span>
                        <span class="auth-badge required">Cheie API</span>
                        <span class="endpoint-chevron">â–¼</span>
                    </div>
                    <div class="endpoint-body">
                        <p style="color:var(--muted);font-size:0.85rem">ReturneazÄƒ lista modelelor AI disponibile pe aceastÄƒ instanÈ›Äƒ.</p>
                        <pre>{
  "models": [
    { "id": "claude-sonnet-4", "name": "Claude Sonnet 4", "provider": "Anthropic", "primary": true }
  ]
}</pre>
                    </div>
                </div>

                <div class="endpoint" id="ep-profile">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/v1/user/profile</span>
                        <span class="endpoint-desc">ObÈ›ine profilul utilizatorului autentificat</span>
                        <span class="auth-badge required">Cheie API</span>
                        <span class="endpoint-chevron">â–¼</span>
                    </div>
                    <div class="endpoint-body">
                        <p style="color:var(--muted);font-size:0.85rem">ReturneazÄƒ profilul utilizatorului asociat cheii API.</p>
                        <pre>{
  "id": "uuid",
  "email": "user@example.com",
  "name": "Nume Utilizator",
  "createdAt": "2026-01-01T00:00:00Z"
}</pre>
                    </div>
                </div>

                <div class="endpoint" id="ep-chat">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/api/v1/chat</span>
                        <span class="endpoint-desc">Trimite mesaj, primeÈ™te rÄƒspuns AI</span>
                        <span class="auth-badge required">Cheie API</span>
                        <span class="endpoint-chevron">â–¼</span>
                    </div>
                    <div class="endpoint-body">
                        <p style="color:var(--muted);font-size:0.85rem">Trimite un mesaj cÄƒtre AI È™i primeÈ™te un rÄƒspuns. SuportÄƒ istoric conversaÈ›ie È™i selecÈ›ie avatar.</p>
                        <table class="param-table">
                            <tr><th>CÃ¢mp</th><th>Tip</th><th>Descriere</th></tr>
                            <tr><td>message</td><td>string</td><td>Obligatoriu. Mesajul de trimis (max 10 000 caractere)</td></tr>
                            <tr><td>avatar</td><td>string</td><td>OpÈ›ional. <code>kelion</code> (implicit) sau <code>kira</code></td></tr>
                            <tr><td>language</td><td>string</td><td>OpÈ›ional. Codul limbii rÄƒspunsului (implicit <code>ro</code>)</td></tr>
                            <tr><td>history</td><td>array</td><td>OpÈ›ional. Mesaje anterioare [{role, content}] max 20</td></tr>
                        </table>
                        <pre>// Cerere
{
  "message": "Care este capitala FranÈ›ei?",
  "avatar": "kelion",
  "language": "ro"
}

// RÄƒspuns
{
  "reply": "Capitala FranÈ›ei este Parisul.",
  "avatar": "kelion",
  "language": "ro",
  "toolsUsed": []
}</pre>
                    </div>
                </div>

            </div>
        </div>

        <div class="card">
            <h2>ğŸ”’ Limite de RatÄƒ</h2>
            <p style="color:var(--muted);font-size:0.85rem">Fiecare cheie API este limitatÄƒ la <strong style="color:var(--secondary)">100 cereri/orÄƒ</strong> implicit. Limita se reseteazÄƒ la fiecare orÄƒ.</p>
            <pre>HTTP 429 Too Many Requests
{ "error": "Limita de ratÄƒ depÄƒÈ™itÄƒ. Max 100 cereri/orÄƒ." }</pre>
        </div>

        <div class="card">
            <h2>âŒ Coduri de Eroare</h2>
            <table class="param-table" style="margin-top:0">
                <tr><th>Cod</th><th>SemnificaÈ›ie</th></tr>
                <tr><td>400</td><td>Cerere invalidÄƒ â€” cÃ¢mpuri lipsÄƒ sau invalide</td></tr>
                <tr><td>401</td><td>Neautorizat â€” cheie API lipsÄƒ sau invalidÄƒ</td></tr>
                <tr><td>429</td><td>Limita de ratÄƒ depÄƒÈ™itÄƒ</td></tr>
                <tr><td>503</td><td>Serviciu indisponibil â€” AI sau BD offline</td></tr>
                <tr><td>500</td><td>Eroare internÄƒ server</td></tr>
            </table>
        </div>
    </div>

    <!-- â•â•â• SANDBOX â•â•â• -->
    <div id="panel-sandbox" class="panel">
        <div class="card">
            <h2>ğŸ§ª Sandbox API</h2>
            <p style="color:var(--muted);font-size:0.85rem;margin-bottom:16px">TesteazÄƒ endpoint-urile API direct Ã®n browser. Cheia ta API este injectatÄƒ automat cÃ¢nd eÈ™ti autentificat.</p>

            <div class="sandbox-controls">
                <select class="sandbox-select" id="sb-method">
                    <option value="GET">GET</option>
                    <option value="POST" selected>POST</option>
                </select>
                <select class="sandbox-select" id="sb-endpoint">
                    <option value="/api/v1/status">GET /api/v1/status</option>
                    <option value="/api/v1/models">GET /api/v1/models</option>
                    <option value="/api/v1/user/profile">GET /api/v1/user/profile</option>
                    <option value="/api/v1/chat" selected>POST /api/v1/chat</option>
                </select>
                <button class="btn btn-primary" id="sb-run-btn">â–¶ RuleazÄƒ</button>
                <span id="sandbox-status"></span>
            </div>

            <div class="sandbox-grid">
                <div class="sandbox-pane">
                    <label>Corp Cerere (JSON)</label>
                    <textarea class="sandbox-textarea" id="sb-body">{"message": "Salut! Ce poÈ›i face?"}</textarea>
                    <label style="margin-top:8px">Cheie API (opÈ›ional)</label>
                    <input class="dev-input" id="sb-apikey" type="text" placeholder="kel_xxxx (foloseÈ™te cheia salvatÄƒ dacÄƒ e gol)">
                </div>
                <div class="sandbox-pane">
                    <label>RÄƒspuns</label>
                    <textarea class="sandbox-textarea" id="sb-response" readonly placeholder="RÄƒspunsul va apÄƒrea aiciâ€¦"></textarea>
                    <div style="display:flex;gap:8px;margin-top:4px">
                        <span id="sb-status-code" style="font-size:0.8rem;color:var(--muted)"></span>
                        <span id="sb-duration" style="font-size:0.8rem;color:var(--muted)"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- â•â•â• WEBHOOKS â•â•â• -->
    <div id="panel-webhooks" class="panel">
        <div class="card">
            <h2>ğŸ”” Webhooks</h2>
            <p style="color:var(--muted);font-size:0.85rem;margin-bottom:16px">ConfigureazÄƒ un URL pentru a primi notificÄƒri POST cÃ¢nd au loc evenimente (ex. rÄƒspuns chat generat).</p>
            <div id="webhook-alert" class="alert"></div>
            <div class="form-row">
                <div class="form-group">
                    <label>URL Webhook</label>
                    <input class="dev-input" id="webhook-url-input" type="url" placeholder="https://server-ul-tau.com/webhook">
                </div>
                <button class="btn btn-primary" id="save-webhook-btn">SalveazÄƒ</button>
            </div>
            <p style="color:var(--muted);font-size:0.8rem">LasÄƒ gol pentru a elimina webhook-ul. KelionAI va trimite o cerere <code>POST</code> cu un payload JSON la URL-ul tÄƒu.</p>
        </div>
        <div class="card">
            <h2>ğŸ“¦ Format Payload</h2>
            <pre>{
  "event": "chat.response",
  "timestamp": "2026-02-28T12:00:00Z",
  "data": {
    "message": "Mesajul utilizatorului",
    "reply": "RÄƒspunsul AI",
    "avatar": "kelion",
    "language": "ro"
  }
}</pre>
        </div>
    </div>

</div><!-- /dev-container -->

<!-- MODAL REVOCARE -->
<div class="dev-modal" id="revoke-modal">
    <div class="dev-modal-box">
        <button class="modal-close-btn" id="revoke-cancel">âœ•</button>
        <h3>RevocÄƒ Cheia API?</h3>
        <p style="color:var(--muted);font-size:0.9rem">AceastÄƒ cheie va fi revocatÄƒ permanent È™i nu va mai putea fi folositÄƒ. AcÈ›iunea nu poate fi anulatÄƒ.</p>
        <div class="modal-actions">
            <button class="btn btn-secondary" id="revoke-cancel2">AnuleazÄƒ</button>
            <button class="btn btn-danger" id="revoke-confirm-btn">RevocÄƒ Cheia</button>
        </div>
    </div>
</div>

<script src="/developer/developer.js"></script>
</body>
</html>