// KelionAI â€” i18n (Internationalisation) Module
// Lightweight translation system. Reads/writes `kelion_lang` in localStorage.
// Usage:
//   i18n.setLanguage('en')         â€” switch UI language
//   i18n.getLanguage()             â€” returns current language code
//   i18n.t('key')                  â€” translate a single key
//   i18n.detectLanguage(text)      â€” detect language from text, returns lang code
(function () {
    'use strict';

    var SUPPORTED = ['en', 'ro', 'fr', 'de', 'es', 'it'];
    var DEFAULT_LANG = 'en';

    var translations = {
        en: {
            // â”€â”€â”€ Onboarding â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'onboarding.title': 'Welcome to',
            'onboarding.subtitle': 'Your personal AI assistant â€” smart, fast, multilingual.',
            'onboarding.start': 'Get Started â†’',
            'onboarding.plan.title': 'ğŸ’ Choose your plan',
            'onboarding.plan.free.name': 'Free',
            'onboarding.plan.free.desc': '20 messages/day Â· Basic features',
            'onboarding.plan.free.price': 'Free',
            'onboarding.plan.pro.name': 'Pro',
            'onboarding.plan.pro.desc': '200 messages/day Â· All features',
            'onboarding.plan.pro.price': 'â‚¬9/month',
            'onboarding.plan.premium.name': 'Premium',
            'onboarding.plan.premium.desc': 'Unlimited Â· Maximum priority',
            'onboarding.plan.premium.price': 'â‚¬19/month',
            'onboarding.finish': 'Finish â†’',
            'onboarding.back': 'â† Back',
            // â”€â”€â”€ Auth â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'auth.subtitle': 'Your smart AI assistant',
            'auth.title': 'Sign In',
            'auth.name.placeholder': 'Your name',
            'auth.email.placeholder': 'Email',
            'auth.password.placeholder': 'Password',
            'auth.submit': 'Sign In',
            'auth.toggle': 'No account â†’ Create',
            'auth.guest': 'Continue without account',
            // â”€â”€â”€ Navigation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'nav.home': 'Home',
            'nav.features': 'Features',
            'nav.pricing': 'Pricing',
            'nav.developer': 'Developer',
            'nav.docs': 'Docs',
            'nav.get_started': 'Get Started',
            'nav.lang_aria': 'Change language',
            // â”€â”€â”€ History sidebar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'history.title': 'Conversations',
            // â”€â”€â”€ Chat â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'thinking.text': 'Thinking...',
            'input.placeholder': 'Type or speak...',
            // â”€â”€â”€ Monitor â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'monitor.default.text': 'The monitor will display content when the AI assistant shares information.',
            'monitor.default.hint': 'Say "what\'s ahead" or "show me a map"',
            'monitor.title': 'Monitor',
            // â”€â”€â”€ Drop zone â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'drop.text': 'Drop file here',
            // â”€â”€â”€ Pricing modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'pricing.modal.title': 'Choose your plan',
            // â”€â”€â”€ PWA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'pwa.title': 'Install KelionAI',
            'pwa.subtitle': 'Quick access from your screen',
            'pwa.install': 'Install',
            'pwa.dismiss': 'Not now',
            // â”€â”€â”€ Error page â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'error.title': 'Oops! Something went wrong',
            'error.description': 'The server encountered a problem. The team has been notified.',
            'error.retry': 'Try Again',
            'error.report': 'Report Issue',
            // â”€â”€â”€ Pricing page â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'pricing.hero.title': 'Choose the right plan for you',
            'pricing.hero.subtitle': 'Access the most advanced AI assistant with 3D avatar',
            'pricing.loading': 'Loading plans...',
            'pricing.nav.home': 'Home',
            'pricing.nav.account': 'My account',
            'pricing.faq.title': 'Frequently Asked Questions',
            'pricing.faq.cancel.q': 'Can I cancel anytime?',
            'pricing.faq.cancel.a': 'Yes, you can cancel your subscription at any time from the billing page. There are no penalties.',
            'pricing.faq.payment.q': 'What payment methods do you accept?',
            'pricing.faq.payment.a': 'We accept all credit/debit cards (Visa, Mastercard, Amex) through Stripe.',
            'pricing.faq.trial.q': 'Is there a trial period?',
            'pricing.faq.trial.a': 'The Free plan is permanently available. Paid plans can be cancelled within 30 days for a full refund.',
            'pricing.faq.enterprise.q': 'What is the Enterprise plan?',
            'pricing.faq.enterprise.a': 'Unlimited access to all features, priority support and guaranteed SLA for teams and companies.',
            'pricing.footer': 'Â© 2026 KelionAI.',
            'pricing.terms': 'Terms',
            'pricing.privacy': 'Privacy',
            // â”€â”€â”€ Settings page â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            'settings.title': 'âš™ï¸ Settings',
            'settings.subtitle': 'Customize your KelionAI experience',
            'settings.lang.section': 'ğŸŒ Language & Region',
            'settings.lang.label': 'Interface language',
            'settings.lang.desc': 'The language in which you receive AI responses',
            'settings.theme.section': 'ğŸ¨ Theme',
            'settings.theme.label': 'Visual theme',
            'settings.theme.desc': 'KelionAI is optimised for dark mode',
            'settings.theme.unavailable': 'Unavailable at this time',
            'settings.notif.section': 'ğŸ”” Notifications',
            'settings.notif.browser.label': 'Browser notifications',
            'settings.notif.browser.desc': 'Receive an alert when the AI finishes responding',
            'settings.notif.sounds.label': 'UI sounds',
            'settings.notif.sounds.desc': 'Sounds when sending and receiving messages',
            'settings.notif.ticker.label': 'News ticker',
            'settings.notif.ticker.desc': 'Show live news in the bottom bar',
            'settings.api.section': 'ğŸ”‘ API & Integrations',
            'settings.api.label': 'API Keys',
            'settings.api.desc': 'Manage API keys for external integrations',
            'settings.api.portal': 'Developer Portal â†’',
            'settings.sub.section': 'ğŸ’³ Subscription',
            'settings.nav.home': 'Home',
            'settings.nav.pricing': 'Pricing',
            'settings.nav.developer': 'Developer'
        },
        ro: {
            'onboarding.title': 'Bun venit la',
            'onboarding.subtitle': 'Asistentul tÄƒu AI personal â€” inteligent, rapid, multilingv.',
            'onboarding.start': 'Ãncepe â†’',
            'onboarding.plan.title': 'ğŸ’ Alege planul tÄƒu',
            'onboarding.plan.free.name': 'Free',
            'onboarding.plan.free.desc': '20 mesaje/zi Â· FuncÈ›ii de bazÄƒ',
            'onboarding.plan.free.price': 'Gratuit',
            'onboarding.plan.pro.name': 'Pro',
            'onboarding.plan.pro.desc': '200 mesaje/zi Â· Toate funcÈ›iile',
            'onboarding.plan.pro.price': 'â‚¬9/lunÄƒ',
            'onboarding.plan.premium.name': 'Premium',
            'onboarding.plan.premium.desc': 'Nelimitat Â· Prioritate maximÄƒ',
            'onboarding.plan.premium.price': 'â‚¬19/lunÄƒ',
            'onboarding.finish': 'FinalizeazÄƒ â†’',
            'onboarding.back': 'â† Ãnapoi',
            'auth.subtitle': 'Asistentul tÄƒu AI inteligent',
            'auth.title': 'Autentificare',
            'auth.name.placeholder': 'Numele tÄƒu',
            'auth.email.placeholder': 'Email',
            'auth.password.placeholder': 'ParolÄƒ',
            'auth.submit': 'IntrÄƒ',
            'auth.toggle': 'Nu am cont â†’ CreeazÄƒ',
            'auth.guest': 'ContinuÄƒ fÄƒrÄƒ cont',
            'nav.home': 'AcasÄƒ',
            'nav.features': 'FuncÈ›ii',
            'nav.pricing': 'PreÈ›uri',
            'nav.developer': 'Developer',
            'nav.docs': 'Docs',
            'nav.get_started': 'Ãncepe',
            'nav.lang_aria': 'SchimbÄƒ limba',
            'history.title': 'ConversaÈ›ii',
            'thinking.text': 'Se gÃ¢ndeÈ™te...',
            'input.placeholder': 'Scrie sau vorbeÈ™te...',
            'monitor.default.text': 'Monitorul va afiÈ™a conÈ›inut cÃ¢nd asistentul AI partajeazÄƒ informaÈ›ii.',
            'monitor.default.hint': 'Spune "ce e Ã®n faÈ›Äƒ" sau "aratÄƒ-mi o hartÄƒ"',
            'monitor.title': 'Monitor',
            'drop.text': 'Trage fiÈ™ierul aici',
            'pricing.modal.title': 'Alege planul tÄƒu',
            'pwa.title': 'InstaleazÄƒ KelionAI',
            'pwa.subtitle': 'Acces rapid de pe ecranul tÄƒu',
            'pwa.install': 'InstaleazÄƒ',
            'pwa.dismiss': 'Nu acum',
            'error.title': 'Oops! Ceva a mers prost',
            'error.description': 'Serverul a Ã®ntÃ¢mpinat o problemÄƒ. Echipa a fost notificatÄƒ.',
            'error.retry': 'ReÃ®ncearcÄƒ',
            'error.report': 'RaporteazÄƒ problema',
            'pricing.hero.title': 'Alege planul potrivit pentru tine',
            'pricing.hero.subtitle': 'Acces la cel mai avansat asistent AI cu avatar 3D',
            'pricing.loading': 'Se Ã®ncarcÄƒ planurile...',
            'pricing.nav.home': 'AcasÄƒ',
            'pricing.nav.account': 'Contul meu',
            'pricing.faq.title': 'ÃntrebÄƒri frecvente',
            'pricing.faq.cancel.q': 'Pot anula oricÃ¢nd?',
            'pricing.faq.cancel.a': 'Da, poÈ›i anula abonamentul oricÃ¢nd din pagina de billing. Nu existÄƒ penalizÄƒri.',
            'pricing.faq.payment.q': 'Ce metode de platÄƒ acceptaÈ›i?',
            'pricing.faq.payment.a': 'AcceptÄƒm toate cardurile de credit/debit (Visa, Mastercard, Amex) prin Stripe.',
            'pricing.faq.trial.q': 'ExistÄƒ perioadÄƒ de probÄƒ?',
            'pricing.faq.trial.a': 'Planul Free este disponibil permanent. Planurile plÄƒtite pot fi anulate Ã®n 30 de zile pentru rambursare completÄƒ.',
            'pricing.faq.enterprise.q': 'Ce este planul Enterprise?',
            'pricing.faq.enterprise.a': 'Acces nelimitat la toate funcÈ›ionalitÄƒÈ›ile, suport prioritar È™i SLA garantat pentru echipe È™i companii.',
            'pricing.footer': 'Â© 2026 KelionAI.',
            'pricing.terms': 'Termeni',
            'pricing.privacy': 'ConfidenÈ›ialitate',
            'settings.title': 'âš™ï¸ SetÄƒri',
            'settings.subtitle': 'PersonalizeazÄƒ experienÈ›a KelionAI',
            'settings.lang.section': 'ğŸŒ LimbÄƒ & Regiune',
            'settings.lang.label': 'LimbÄƒ interfaÈ›Äƒ',
            'settings.lang.desc': 'Limba Ã®n care primeÈ™ti rÄƒspunsurile AI',
            'settings.theme.section': 'ğŸ¨ TemÄƒ',
            'settings.theme.label': 'TemÄƒ vizualÄƒ',
            'settings.theme.desc': 'KelionAI este optimizat pentru dark mode',
            'settings.theme.unavailable': 'Indisponibil momentan',
            'settings.notif.section': 'ğŸ”” NotificÄƒri',
            'settings.notif.browser.label': 'NotificÄƒri browser',
            'settings.notif.browser.desc': 'PrimeÈ™te alertÄƒ cÃ¢nd AI terminÄƒ de rÄƒspuns',
            'settings.notif.sounds.label': 'Sunete UI',
            'settings.notif.sounds.desc': 'Sunete la trimiterea È™i primirea mesajelor',
            'settings.notif.ticker.label': 'Ticker de È™tiri',
            'settings.notif.ticker.desc': 'AfiÈ™eazÄƒ È™tiri live Ã®n bara de jos',
            'settings.api.section': 'ğŸ”‘ API & IntegrÄƒri',
            'settings.api.label': 'API Keys',
            'settings.api.desc': 'GestioneazÄƒ cheile API pentru integrÄƒri externe',
            'settings.api.portal': 'Developer Portal â†’',
            'settings.sub.section': 'ğŸ’³ Abonament',
            'settings.nav.home': 'AcasÄƒ',
            'settings.nav.pricing': 'PreÈ›uri',
            'settings.nav.developer': 'Developer'
        },
        fr: {
            'onboarding.title': 'Bienvenue sur',
            'onboarding.subtitle': 'Votre assistant IA personnel â€” intelligent, rapide, multilingue.',
            'onboarding.start': 'Commencer â†’',
            'onboarding.plan.title': 'ğŸ’ Choisissez votre plan',
            'onboarding.plan.free.name': 'Gratuit',
            'onboarding.plan.free.desc': '20 messages/jour Â· FonctionnalitÃ©s de base',
            'onboarding.plan.free.price': 'Gratuit',
            'onboarding.plan.pro.name': 'Pro',
            'onboarding.plan.pro.desc': '200 messages/jour Â· Toutes les fonctionnalitÃ©s',
            'onboarding.plan.pro.price': 'â‚¬9/mois',
            'onboarding.plan.premium.name': 'Premium',
            'onboarding.plan.premium.desc': 'IllimitÃ© Â· PrioritÃ© maximale',
            'onboarding.plan.premium.price': 'â‚¬19/mois',
            'onboarding.finish': 'Terminer â†’',
            'onboarding.back': 'â† Retour',
            'auth.subtitle': 'Votre assistant IA intelligent',
            'auth.title': 'Connexion',
            'auth.name.placeholder': 'Votre nom',
            'auth.email.placeholder': 'Email',
            'auth.password.placeholder': 'Mot de passe',
            'auth.submit': 'Se connecter',
            'auth.toggle': 'Pas de compte â†’ CrÃ©er',
            'auth.guest': 'Continuer sans compte',
            'nav.home': 'Accueil',
            'nav.features': 'FonctionnalitÃ©s',
            'nav.pricing': 'Tarifs',
            'nav.developer': 'DÃ©veloppeur',
            'nav.docs': 'Docs',
            'nav.get_started': 'Commencer',
            'nav.lang_aria': 'Changer de langue',
            'history.title': 'Conversations',
            'thinking.text': 'RÃ©flexion...',
            'input.placeholder': 'Ã‰crivez ou parlez...',
            'monitor.default.text': 'Le moniteur affichera du contenu lorsque l\'assistant IA partagera des informations.',
            'monitor.default.hint': 'Dites "qu\'est-ce qu\'il y a devant" ou "montrez-moi une carte"',
            'monitor.title': 'Moniteur',
            'drop.text': 'DÃ©posez le fichier ici',
            'pricing.modal.title': 'Choisissez votre plan',
            'pwa.title': 'Installer KelionAI',
            'pwa.subtitle': 'AccÃ¨s rapide depuis votre Ã©cran',
            'pwa.install': 'Installer',
            'pwa.dismiss': 'Pas maintenant',
            'error.title': 'Oops ! Quelque chose s\'est mal passÃ©',
            'error.description': 'Le serveur a rencontrÃ© un problÃ¨me. L\'Ã©quipe a Ã©tÃ© notifiÃ©e.',
            'error.retry': 'RÃ©essayer',
            'error.report': 'Signaler le problÃ¨me',
            'pricing.hero.title': 'Choisissez le plan qui vous convient',
            'pricing.hero.subtitle': 'AccÃ©dez Ã  l\'assistant IA le plus avancÃ© avec avatar 3D',
            'pricing.loading': 'Chargement des plans...',
            'pricing.nav.home': 'Accueil',
            'pricing.nav.account': 'Mon compte',
            'pricing.faq.title': 'Questions frÃ©quentes',
            'pricing.faq.cancel.q': 'Puis-je annuler Ã  tout moment ?',
            'pricing.faq.cancel.a': 'Oui, vous pouvez annuler votre abonnement Ã  tout moment depuis la page de facturation. Il n\'y a pas de pÃ©nalitÃ©s.',
            'pricing.faq.payment.q': 'Quels moyens de paiement acceptez-vous ?',
            'pricing.faq.payment.a': 'Nous acceptons toutes les cartes de crÃ©dit/dÃ©bit (Visa, Mastercard, Amex) via Stripe.',
            'pricing.faq.trial.q': 'Y a-t-il une pÃ©riode d\'essai ?',
            'pricing.faq.trial.a': 'Le plan Gratuit est disponible en permanence. Les plans payants peuvent Ãªtre annulÃ©s dans les 30 jours pour un remboursement complet.',
            'pricing.faq.enterprise.q': 'Qu\'est-ce que le plan Entreprise ?',
            'pricing.faq.enterprise.a': 'AccÃ¨s illimitÃ© Ã  toutes les fonctionnalitÃ©s, support prioritaire et SLA garanti pour les Ã©quipes et entreprises.',
            'pricing.footer': 'Â© 2026 KelionAI.',
            'pricing.terms': 'Conditions',
            'pricing.privacy': 'ConfidentialitÃ©',
            'settings.title': 'âš™ï¸ ParamÃ¨tres',
            'settings.subtitle': 'Personnalisez votre expÃ©rience KelionAI',
            'settings.lang.section': 'ğŸŒ Langue & RÃ©gion',
            'settings.lang.label': 'Langue de l\'interface',
            'settings.lang.desc': 'La langue dans laquelle vous recevez les rÃ©ponses IA',
            'settings.theme.section': 'ğŸ¨ ThÃ¨me',
            'settings.theme.label': 'ThÃ¨me visuel',
            'settings.theme.desc': 'KelionAI est optimisÃ© pour le mode sombre',
            'settings.theme.unavailable': 'Indisponible pour le moment',
            'settings.notif.section': 'ğŸ”” Notifications',
            'settings.notif.browser.label': 'Notifications navigateur',
            'settings.notif.browser.desc': 'Recevez une alerte quand l\'IA a terminÃ© de rÃ©pondre',
            'settings.notif.sounds.label': 'Sons UI',
            'settings.notif.sounds.desc': 'Sons lors de l\'envoi et de la rÃ©ception des messages',
            'settings.notif.ticker.label': 'Fil d\'actualitÃ©s',
            'settings.notif.ticker.desc': 'Afficher les actualitÃ©s en direct dans la barre infÃ©rieure',
            'settings.api.section': 'ğŸ”‘ API & IntÃ©grations',
            'settings.api.label': 'ClÃ©s API',
            'settings.api.desc': 'GÃ©rez les clÃ©s API pour les intÃ©grations externes',
            'settings.api.portal': 'Portail DÃ©veloppeur â†’',
            'settings.sub.section': 'ğŸ’³ Abonnement',
            'settings.nav.home': 'Accueil',
            'settings.nav.pricing': 'Tarifs',
            'settings.nav.developer': 'DÃ©veloppeur'
        },
        de: {
            'onboarding.title': 'Willkommen bei',
            'onboarding.subtitle': 'Ihr persÃ¶nlicher KI-Assistent â€” intelligent, schnell, mehrsprachig.',
            'onboarding.start': 'Loslegen â†’',
            'onboarding.plan.title': 'ğŸ’ WÃ¤hlen Sie Ihren Plan',
            'onboarding.plan.free.name': 'Kostenlos',
            'onboarding.plan.free.desc': '20 Nachrichten/Tag Â· Grundfunktionen',
            'onboarding.plan.free.price': 'Kostenlos',
            'onboarding.plan.pro.name': 'Pro',
            'onboarding.plan.pro.desc': '200 Nachrichten/Tag Â· Alle Funktionen',
            'onboarding.plan.pro.price': 'â‚¬9/Monat',
            'onboarding.plan.premium.name': 'Premium',
            'onboarding.plan.premium.desc': 'Unbegrenzt Â· HÃ¶chste PrioritÃ¤t',
            'onboarding.plan.premium.price': 'â‚¬19/Monat',
            'onboarding.finish': 'Fertigstellen â†’',
            'onboarding.back': 'â† ZurÃ¼ck',
            'auth.subtitle': 'Ihr intelligenter KI-Assistent',
            'auth.title': 'Anmelden',
            'auth.name.placeholder': 'Ihr Name',
            'auth.email.placeholder': 'E-Mail',
            'auth.password.placeholder': 'Passwort',
            'auth.submit': 'Anmelden',
            'auth.toggle': 'Kein Konto â†’ Erstellen',
            'auth.guest': 'Ohne Konto fortfahren',
            'nav.home': 'Startseite',
            'nav.features': 'Funktionen',
            'nav.pricing': 'Preise',
            'nav.developer': 'Entwickler',
            'nav.docs': 'Docs',
            'nav.get_started': 'Loslegen',
            'nav.lang_aria': 'Sprache Ã¤ndern',
            'history.title': 'GesprÃ¤che',
            'thinking.text': 'Denkt nach...',
            'input.placeholder': 'Tippen oder sprechen...',
            'monitor.default.text': 'Der Monitor zeigt Inhalte an, wenn der KI-Assistent Informationen teilt.',
            'monitor.default.hint': 'Sagen Sie "was ist vorne" oder "zeig mir eine Karte"',
            'monitor.title': 'Monitor',
            'drop.text': 'Datei hier ablegen',
            'pricing.modal.title': 'WÃ¤hlen Sie Ihren Plan',
            'pwa.title': 'KelionAI installieren',
            'pwa.subtitle': 'Schneller Zugriff von Ihrem Bildschirm',
            'pwa.install': 'Installieren',
            'pwa.dismiss': 'Nicht jetzt',
            'error.title': 'Oops! Etwas ist schiefgelaufen',
            'error.description': 'Der Server ist auf ein Problem gestoÃŸen. Das Team wurde benachrichtigt.',
            'error.retry': 'Erneut versuchen',
            'error.report': 'Problem melden',
            'pricing.hero.title': 'WÃ¤hlen Sie den richtigen Plan fÃ¼r Sie',
            'pricing.hero.subtitle': 'Zugang zum fortschrittlichsten KI-Assistenten mit 3D-Avatar',
            'pricing.loading': 'PlÃ¤ne werden geladen...',
            'pricing.nav.home': 'Startseite',
            'pricing.nav.account': 'Mein Konto',
            'pricing.faq.title': 'HÃ¤ufig gestellte Fragen',
            'pricing.faq.cancel.q': 'Kann ich jederzeit kÃ¼ndigen?',
            'pricing.faq.cancel.a': 'Ja, Sie kÃ¶nnen Ihr Abonnement jederzeit Ã¼ber die Abrechnungsseite kÃ¼ndigen. Es gibt keine Strafen.',
            'pricing.faq.payment.q': 'Welche Zahlungsmethoden akzeptieren Sie?',
            'pricing.faq.payment.a': 'Wir akzeptieren alle Kredit-/Debitkarten (Visa, Mastercard, Amex) Ã¼ber Stripe.',
            'pricing.faq.trial.q': 'Gibt es eine Testphase?',
            'pricing.faq.trial.a': 'Der kostenlose Plan ist dauerhaft verfÃ¼gbar. Bezahlte PlÃ¤ne kÃ¶nnen innerhalb von 30 Tagen fÃ¼r eine vollstÃ¤ndige RÃ¼ckerstattung storniert werden.',
            'pricing.faq.enterprise.q': 'Was ist der Enterprise-Plan?',
            'pricing.faq.enterprise.a': 'Unbegrenzter Zugang zu allen Funktionen, priorisierter Support und garantiertes SLA fÃ¼r Teams und Unternehmen.',
            'pricing.footer': 'Â© 2026 KelionAI.',
            'pricing.terms': 'Bedingungen',
            'pricing.privacy': 'Datenschutz',
            'settings.title': 'âš™ï¸ Einstellungen',
            'settings.subtitle': 'Passen Sie Ihre KelionAI-Erfahrung an',
            'settings.lang.section': 'ğŸŒ Sprache & Region',
            'settings.lang.label': 'OberflÃ¤chensprache',
            'settings.lang.desc': 'Die Sprache, in der Sie KI-Antworten erhalten',
            'settings.theme.section': 'ğŸ¨ Thema',
            'settings.theme.label': 'Visuelles Thema',
            'settings.theme.desc': 'KelionAI ist fÃ¼r den Dunkelmodus optimiert',
            'settings.theme.unavailable': 'Derzeit nicht verfÃ¼gbar',
            'settings.notif.section': 'ğŸ”” Benachrichtigungen',
            'settings.notif.browser.label': 'Browser-Benachrichtigungen',
            'settings.notif.browser.desc': 'Erhalten Sie eine Benachrichtigung, wenn die KI fertig ist',
            'settings.notif.sounds.label': 'UI-TÃ¶ne',
            'settings.notif.sounds.desc': 'TÃ¶ne beim Senden und Empfangen von Nachrichten',
            'settings.notif.ticker.label': 'Nachrichten-Ticker',
            'settings.notif.ticker.desc': 'Live-Nachrichten in der unteren Leiste anzeigen',
            'settings.api.section': 'ğŸ”‘ API & Integrationen',
            'settings.api.label': 'API-SchlÃ¼ssel',
            'settings.api.desc': 'API-SchlÃ¼ssel fÃ¼r externe Integrationen verwalten',
            'settings.api.portal': 'Entwicklerportal â†’',
            'settings.sub.section': 'ğŸ’³ Abonnement',
            'settings.nav.home': 'Startseite',
            'settings.nav.pricing': 'Preise',
            'settings.nav.developer': 'Entwickler'
        },
        es: {
            'onboarding.title': 'Bienvenido a',
            'onboarding.subtitle': 'Tu asistente IA personal â€” inteligente, rÃ¡pido, multilingÃ¼e.',
            'onboarding.start': 'Empezar â†’',
            'onboarding.plan.title': 'ğŸ’ Elige tu plan',
            'onboarding.plan.free.name': 'Gratuito',
            'onboarding.plan.free.desc': '20 mensajes/dÃ­a Â· Funciones bÃ¡sicas',
            'onboarding.plan.free.price': 'Gratis',
            'onboarding.plan.pro.name': 'Pro',
            'onboarding.plan.pro.desc': '200 mensajes/dÃ­a Â· Todas las funciones',
            'onboarding.plan.pro.price': 'â‚¬9/mes',
            'onboarding.plan.premium.name': 'Premium',
            'onboarding.plan.premium.desc': 'Ilimitado Â· MÃ¡xima prioridad',
            'onboarding.plan.premium.price': 'â‚¬19/mes',
            'onboarding.finish': 'Finalizar â†’',
            'onboarding.back': 'â† AtrÃ¡s',
            'auth.subtitle': 'Tu asistente IA inteligente',
            'auth.title': 'Iniciar sesiÃ³n',
            'auth.name.placeholder': 'Tu nombre',
            'auth.email.placeholder': 'Email',
            'auth.password.placeholder': 'ContraseÃ±a',
            'auth.submit': 'Entrar',
            'auth.toggle': 'No tengo cuenta â†’ Crear',
            'auth.guest': 'Continuar sin cuenta',
            'nav.home': 'Inicio',
            'nav.features': 'Funciones',
            'nav.pricing': 'Precios',
            'nav.developer': 'Desarrollador',
            'nav.docs': 'Docs',
            'nav.get_started': 'Empezar',
            'nav.lang_aria': 'Cambiar idioma',
            'history.title': 'Conversaciones',
            'thinking.text': 'Pensando...',
            'input.placeholder': 'Escribe o habla...',
            'monitor.default.text': 'El monitor mostrarÃ¡ contenido cuando el asistente IA comparta informaciÃ³n.',
            'monitor.default.hint': 'Di "quÃ© hay delante" o "muÃ©strame un mapa"',
            'monitor.title': 'Monitor',
            'drop.text': 'Arrastra el archivo aquÃ­',
            'pricing.modal.title': 'Elige tu plan',
            'pwa.title': 'Instalar KelionAI',
            'pwa.subtitle': 'Acceso rÃ¡pido desde tu pantalla',
            'pwa.install': 'Instalar',
            'pwa.dismiss': 'Ahora no',
            'error.title': 'Â¡Vaya! Algo saliÃ³ mal',
            'error.description': 'El servidor encontrÃ³ un problema. El equipo ha sido notificado.',
            'error.retry': 'Reintentar',
            'error.report': 'Reportar problema',
            'pricing.hero.title': 'Elige el plan adecuado para ti',
            'pricing.hero.subtitle': 'Accede al asistente IA mÃ¡s avanzado con avatar 3D',
            'pricing.loading': 'Cargando planes...',
            'pricing.nav.home': 'Inicio',
            'pricing.nav.account': 'Mi cuenta',
            'pricing.faq.title': 'Preguntas frecuentes',
            'pricing.faq.cancel.q': 'Â¿Puedo cancelar en cualquier momento?',
            'pricing.faq.cancel.a': 'SÃ­, puedes cancelar tu suscripciÃ³n en cualquier momento desde la pÃ¡gina de facturaciÃ³n. No hay penalizaciones.',
            'pricing.faq.payment.q': 'Â¿QuÃ© mÃ©todos de pago aceptan?',
            'pricing.faq.payment.a': 'Aceptamos todas las tarjetas de crÃ©dito/dÃ©bito (Visa, Mastercard, Amex) a travÃ©s de Stripe.',
            'pricing.faq.trial.q': 'Â¿Hay un perÃ­odo de prueba?',
            'pricing.faq.trial.a': 'El plan Gratuito estÃ¡ disponible permanentemente. Los planes de pago se pueden cancelar dentro de los 30 dÃ­as para un reembolso completo.',
            'pricing.faq.enterprise.q': 'Â¿QuÃ© es el plan Empresa?',
            'pricing.faq.enterprise.a': 'Acceso ilimitado a todas las funcionalidades, soporte prioritario y SLA garantizado para equipos y empresas.',
            'pricing.footer': 'Â© 2026 KelionAI.',
            'pricing.terms': 'TÃ©rminos',
            'pricing.privacy': 'Privacidad',
            'settings.title': 'âš™ï¸ ConfiguraciÃ³n',
            'settings.subtitle': 'Personaliza tu experiencia KelionAI',
            'settings.lang.section': 'ğŸŒ Idioma & RegiÃ³n',
            'settings.lang.label': 'Idioma de la interfaz',
            'settings.lang.desc': 'El idioma en el que recibes las respuestas de IA',
            'settings.theme.section': 'ğŸ¨ Tema',
            'settings.theme.label': 'Tema visual',
            'settings.theme.desc': 'KelionAI estÃ¡ optimizado para el modo oscuro',
            'settings.theme.unavailable': 'No disponible en este momento',
            'settings.notif.section': 'ğŸ”” Notificaciones',
            'settings.notif.browser.label': 'Notificaciones del navegador',
            'settings.notif.browser.desc': 'Recibe una alerta cuando la IA termine de responder',
            'settings.notif.sounds.label': 'Sonidos UI',
            'settings.notif.sounds.desc': 'Sonidos al enviar y recibir mensajes',
            'settings.notif.ticker.label': 'Ticker de noticias',
            'settings.notif.ticker.desc': 'Mostrar noticias en vivo en la barra inferior',
            'settings.api.section': 'ğŸ”‘ API & Integraciones',
            'settings.api.label': 'Claves API',
            'settings.api.desc': 'Gestiona las claves API para integraciones externas',
            'settings.api.portal': 'Portal del Desarrollador â†’',
            'settings.sub.section': 'ğŸ’³ SuscripciÃ³n',
            'settings.nav.home': 'Inicio',
            'settings.nav.pricing': 'Precios',
            'settings.nav.developer': 'Desarrollador'
        },
        it: {
            'onboarding.title': 'Benvenuto su',
            'onboarding.subtitle': 'Il tuo assistente IA personale â€” intelligente, veloce, multilingue.',
            'onboarding.start': 'Inizia â†’',
            'onboarding.plan.title': 'ğŸ’ Scegli il tuo piano',
            'onboarding.plan.free.name': 'Gratuito',
            'onboarding.plan.free.desc': '20 messaggi/giorno Â· FunzionalitÃ  di base',
            'onboarding.plan.free.price': 'Gratis',
            'onboarding.plan.pro.name': 'Pro',
            'onboarding.plan.pro.desc': '200 messaggi/giorno Â· Tutte le funzionalitÃ ',
            'onboarding.plan.pro.price': 'â‚¬9/mese',
            'onboarding.plan.premium.name': 'Premium',
            'onboarding.plan.premium.desc': 'Illimitato Â· PrioritÃ  massima',
            'onboarding.plan.premium.price': 'â‚¬19/mese',
            'onboarding.finish': 'Concludi â†’',
            'onboarding.back': 'â† Indietro',
            'auth.subtitle': 'Il tuo assistente IA intelligente',
            'auth.title': 'Accedi',
            'auth.name.placeholder': 'Il tuo nome',
            'auth.email.placeholder': 'Email',
            'auth.password.placeholder': 'Password',
            'auth.submit': 'Accedi',
            'auth.toggle': 'Non ho un account â†’ Crea',
            'auth.guest': 'Continua senza account',
            'nav.home': 'Home',
            'nav.features': 'FunzionalitÃ ',
            'nav.pricing': 'Prezzi',
            'nav.developer': 'Sviluppatore',
            'nav.docs': 'Docs',
            'nav.get_started': 'Inizia',
            'nav.lang_aria': 'Cambia lingua',
            'history.title': 'Conversazioni',
            'thinking.text': 'Sta pensando...',
            'input.placeholder': 'Scrivi o parla...',
            'monitor.default.text': 'Il monitor mostrerÃ  contenuto quando l\'assistente IA condividerÃ  informazioni.',
            'monitor.default.hint': 'Di\' "cosa c\'Ã¨ davanti" o "mostrami una mappa"',
            'monitor.title': 'Monitor',
            'drop.text': 'Trascina il file qui',
            'pricing.modal.title': 'Scegli il tuo piano',
            'pwa.title': 'Installa KelionAI',
            'pwa.subtitle': 'Accesso rapido dal tuo schermo',
            'pwa.install': 'Installa',
            'pwa.dismiss': 'Non ora',
            'error.title': 'Oops! Qualcosa Ã¨ andato storto',
            'error.description': 'Il server ha riscontrato un problema. Il team Ã¨ stato notificato.',
            'error.retry': 'Riprova',
            'error.report': 'Segnala il problema',
            'pricing.hero.title': 'Scegli il piano giusto per te',
            'pricing.hero.subtitle': 'Accedi all\'assistente IA piÃ¹ avanzato con avatar 3D',
            'pricing.loading': 'Caricamento piani...',
            'pricing.nav.home': 'Home',
            'pricing.nav.account': 'Il mio account',
            'pricing.faq.title': 'Domande frequenti',
            'pricing.faq.cancel.q': 'Posso cancellare in qualsiasi momento?',
            'pricing.faq.cancel.a': 'SÃ¬, puoi cancellare il tuo abbonamento in qualsiasi momento dalla pagina di fatturazione. Non ci sono penali.',
            'pricing.faq.payment.q': 'Quali metodi di pagamento accettate?',
            'pricing.faq.payment.a': 'Accettiamo tutte le carte di credito/debito (Visa, Mastercard, Amex) tramite Stripe.',
            'pricing.faq.trial.q': 'C\'Ã¨ un periodo di prova?',
            'pricing.faq.trial.a': 'Il piano Gratuito Ã¨ disponibile in modo permanente. I piani a pagamento possono essere annullati entro 30 giorni per un rimborso completo.',
            'pricing.faq.enterprise.q': 'Cos\'Ã¨ il piano Enterprise?',
            'pricing.faq.enterprise.a': 'Accesso illimitato a tutte le funzionalitÃ , supporto prioritario e SLA garantito per team e aziende.',
            'pricing.footer': 'Â© 2026 KelionAI.',
            'pricing.terms': 'Termini',
            'pricing.privacy': 'Privacy',
            'settings.title': 'âš™ï¸ Impostazioni',
            'settings.subtitle': 'Personalizza la tua esperienza KelionAI',
            'settings.lang.section': 'ğŸŒ Lingua & Regione',
            'settings.lang.label': 'Lingua dell\'interfaccia',
            'settings.lang.desc': 'La lingua in cui ricevi le risposte IA',
            'settings.theme.section': 'ğŸ¨ Tema',
            'settings.theme.label': 'Tema visivo',
            'settings.theme.desc': 'KelionAI Ã¨ ottimizzato per la modalitÃ  scura',
            'settings.theme.unavailable': 'Non disponibile al momento',
            'settings.notif.section': 'ğŸ”” Notifiche',
            'settings.notif.browser.label': 'Notifiche browser',
            'settings.notif.browser.desc': 'Ricevi un avviso quando l\'IA finisce di rispondere',
            'settings.notif.sounds.label': 'Suoni UI',
            'settings.notif.sounds.desc': 'Suoni all\'invio e alla ricezione dei messaggi',
            'settings.notif.ticker.label': 'Ticker di notizie',
            'settings.notif.ticker.desc': 'Mostra notizie in tempo reale nella barra inferiore',
            'settings.api.section': 'ğŸ”‘ API & Integrazioni',
            'settings.api.label': 'Chiavi API',
            'settings.api.desc': 'Gestisci le chiavi API per le integrazioni esterne',
            'settings.api.portal': 'Portale Sviluppatori â†’',
            'settings.sub.section': 'ğŸ’³ Abbonamento',
            'settings.nav.home': 'Home',
            'settings.nav.pricing': 'Prezzi',
            'settings.nav.developer': 'Sviluppatore'
        }
    };

    // â”€â”€â”€ Word patterns for language detection â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    var LANG_PATTERNS = [
        { lang: 'ro', re: /\b(È™i|sau|este|sunt|pentru|care|cum|unde|vreau|poÈ›i|bunÄƒ|salut|mulÈ›umesc|te|Ã®È›i|Ã®mi|mai|dar|cÄƒ|nu|da|eu|tu|el|ea|noi|voi|ei|ale|lui|sa|la|Ã®n|pe|cu|de|din|spre|pÃ¢nÄƒ|cÃ¢nd|dacÄƒ|acum|deja|mereu)\b/i },
        { lang: 'fr', re: /\b(je|tu|il|elle|nous|vous|ils|elles|est|sont|avec|pour|dans|sur|par|les|des|une|bonjour|merci|oui|non|comment|pourquoi|quoi|qui|oÃ¹|quand|trÃ¨s|mais|ou|et|donc|or|ni|car|que|ce|cet|cette|mon|ton|son|ma|ta|sa)\b/i },
        { lang: 'de', re: /\b(ich|du|er|sie|wir|ihr|ist|sind|mit|fÃ¼r|auf|bei|aus|nach|von|Ã¼ber|unter|an|in|zu|ein|eine|der|die|das|und|oder|aber|nicht|ja|nein|hallo|danke|bitte|wie|was|wer|wo|wann|warum|auch|noch|schon)\b/i },
        { lang: 'es', re: /\b(yo|tÃº|Ã©l|ella|nosotros|vosotros|ellos|es|son|con|para|en|por|de|del|hola|gracias|sÃ­|no|cÃ³mo|por quÃ©|quÃ©|quiÃ©n|dÃ³nde|cuÃ¡ndo|muy|pero|o|y|tambiÃ©n|ya|mÃ¡s|menos|bueno|malo|grande|pequeÃ±o)\b/i },
        { lang: 'it', re: /\b(io|tu|lui|lei|noi|voi|loro|Ã¨|sono|con|per|in|su|da|di|un|una|ciao|grazie|sÃ¬|no|come|perchÃ©|cosa|chi|dove|quando|molto|ma|o|e|anche|giÃ |piÃ¹|meno|buono|cattivo|grande|piccolo)\b/i },
        { lang: 'en', re: /\b(the|is|are|was|were|with|for|and|or|but|in|on|at|to|of|a|an|hello|hi|thanks|thank|yes|no|how|why|what|who|where|when|very|also|already|more|less|good|bad|big|small)\b/i }
    ];

    var currentLang = DEFAULT_LANG;

    // â”€â”€â”€ Load saved language â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    try {
        var saved = localStorage.getItem('kelion_lang');
        if (saved && SUPPORTED.indexOf(saved) !== -1) currentLang = saved;
    } catch (e) {}

    // â”€â”€â”€ Translate a single key â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function t(key) {
        var dict = translations[currentLang] || translations[DEFAULT_LANG];
        return dict[key] || translations[DEFAULT_LANG][key] || key;
    }

    // â”€â”€â”€ Apply translations to DOM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function applyTranslations() {
        // Text content
        document.querySelectorAll('[data-i18n]').forEach(function (el) {
            var key = el.getAttribute('data-i18n');
            el.textContent = t(key);
        });
        // Placeholder attribute
        document.querySelectorAll('[data-i18n-placeholder]').forEach(function (el) {
            el.placeholder = t(el.getAttribute('data-i18n-placeholder'));
        });
        // aria-label attribute
        document.querySelectorAll('[data-i18n-aria]').forEach(function (el) {
            el.setAttribute('aria-label', t(el.getAttribute('data-i18n-aria')));
        });
        // Update <html lang="...">
        document.documentElement.lang = currentLang;
    }

    // â”€â”€â”€ setLanguage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function setLanguage(lang) {
        if (!lang || SUPPORTED.indexOf(lang) === -1) return;
        currentLang = lang;
        try { localStorage.setItem('kelion_lang', lang); } catch (e) {}
        applyTranslations();
        // Update KVoice detected language if available
        if (window.KVoice && typeof KVoice.setLanguage === 'function') KVoice.setLanguage(lang);
        // Dispatch event so other modules can react
        window.dispatchEvent(new CustomEvent('kelion-lang-changed', { detail: { lang: lang } }));
    }

    // â”€â”€â”€ getLanguage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function getLanguage() { return currentLang; }

    // â”€â”€â”€ detectLanguage from text â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function detectLanguage(text) {
        if (!text || text.trim().length < 3) return null;
        for (var i = 0; i < LANG_PATTERNS.length; i++) {
            if (LANG_PATTERNS[i].re.test(text)) return LANG_PATTERNS[i].lang;
        }
        return null;
    }

    // â”€â”€â”€ Apply on load â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', applyTranslations);
    } else {
        applyTranslations();
    }

    window.i18n = { t: t, setLanguage: setLanguage, getLanguage: getLanguage, detectLanguage: detectLanguage, apply: applyTranslations };
}());
